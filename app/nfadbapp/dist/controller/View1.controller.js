sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("nfadbapp.controller.View1",{onInit(){debugger;var e=this.getOwnerComponent().getRouter();e.getRoute("RouteView1").attachMatched(this._onRouteMatched,this)},_onRouteMatched:async function(e){debugger;var t=e.getParameter("arguments").DocId;let a,n;try{a=sap.ushell.Container.getUser().getFullName();n=sap.ushell.Container.getUser().getEmail()}catch(e){a="Tesst User";n="premaa@peolsolutions.com"}var r=new sap.ui.model.json.JSONModel({projectId:t,userName:a});this.getView().setModel(r,"DocId");let o=this.getView().getModel();let s="getDataForUserAndProject";let i=o.bindContext(`/${s}(...)`);i.setParameter("project",t);i.setParameter("user",n);await i.execute();debugger;var g=i.getBoundContext().getValue();debugger;function l(e){debugger;e.getView().getContent()[0].mAggregations.content[0].setIllustrationType("sapIllus-ErrorScreen");e.getView().getContent()[0].mAggregations.content[0].setTitle("Oops! Something went wrong");e.getView().getContent()[0].mAggregations.content[0].setDescription(g.value)}if(g){if(g.value.substring(0,3)=="Doc"){try{var u=sap.ushell&&sap.ushell.Container&&await sap.ushell.Container.getServiceAsync("Navigation")||"";if(u!=""){await u.navigate({target:{semanticObject:"nfaformsem",action:"display"},params:{NfaNumber:g.value,IsActiveEntity:true}})}else{l(this)}}catch(e){debugger;l(this)}}}else{var c=new sap.m.Dialog({title:"Error",type:"Message",state:"Error",content:new sap.m.Text({text:"Invalid Project Id"}),beginButton:new sap.m.Button({text:"OK",press:function(){c.close()}}),afterClose:function(){c.destroy()}});c.open()}debugger},deletedb(){debugger;let e=this.getView().getModel().bindContext("/discardNfaData(...)");const t=window.location.href;const a=t.split("#")[1]??"";const n=a;e.setParameter("NfaNumber",n);e.execute()}})});
//# sourceMappingURL=View1.controller.js.map